<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
</head>
<style>
        body {
            font: 16px arial;
            
			background-color: #F8F8FF;
        }
</style>
<body>

		
		<iframe src="small_inlay_temp_nv.html" width="850" height="600" frameBorder="0"> 
			<p>Your browser does not support iframes.</p>
		</iframe>
		<iframe src="small_inlay_pressure_nv.html" width="850" height="600" frameBorder="0"> 
			<p>Your browser does not support iframes.</p>
		</iframe>
		<iframe src="small_inlay_humidity_nv.html" width="850" height="600" frameBorder="0"> 
			<p>Your browser does not support iframes.</p>
		</iframe>
		<iframe src="small_inlay_gas_nv.html" width="850" height="600" frameBorder="0"> 
			<p>Your browser does not support iframes.</p>
		</iframe>


		<table border="1" style="width:30%" align="center" >
		<tr>	
				<th colspan="6">Today's Runtime Totals (Minutes)</th>
		</tr>
		<tr>	
				<td> AC  : </td><td><input type="text" id="ac_runtime" /></td>
				<td> Heater : </td><td><input type="text" id="heat_runtime" /></td>
				<td> Fan  : </td><td><input type="text" id="fan_runtime" /></td>
		</tr>
    	</table>
		<table border="1" style="width:30%" align="center" >
		<tr>	
				<th colspan="6">Yesterdays's Runtime Totals (Minutes)</th>
		</tr>
		<tr>	
				<td> AC  : </td><td><input type="text" id="ac_runtime_y" /></td>
				<td> Heater : </td><td><input type="text" id="heat_runtime_y" /></td>
				<td> Fan  : </td><td><input type="text" id="fan_runtime_y" /></td>
		</tr>
    	</table>

		
		
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script>
		reply = 0;

		function display_fan_runtime(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#fan_runtime").val((reply[0].tdelta/60).toFixed(1));
				}
			
			date = new Date();
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();			
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=fan", true);
			oReq.send();

	
		}
	
		function display_heater_runtime(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#heat_runtime").val((reply[0].tdelta/60).toFixed(1));
				}
		
			date = new Date();
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=heater", true);
			oReq.send();

	
		}
		
		function display_ac_runtime(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#ac_runtime").val((reply[0].tdelta/60).toFixed(1) );
				}
			
			date = new Date();
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=ac", true);
			oReq.send();

	
		}
	
	
		function display_fan_runtime_y(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#fan_runtime_y").val((reply[0].tdelta/60).toFixed(1));
				}
			
			date = new Date();
			date.setDate(date.getDate() - 1);
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();			
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=fan", true);
			oReq.send();

	
		}
	
		function display_heater_runtime_y(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#heat_runtime_y").val((reply[0].tdelta/60).toFixed(1));
				}
		
			date = new Date();
			date.setDate(date.getDate() - 1);
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=heater", true);
			oReq.send();

	
		}
		
		function display_ac_runtime_y(){
			
			var oReq = new XMLHttpRequest(); //New request object
			oReq.onload = function() {				
				reply = JSON.parse(this.responseText);								
				
				$("#ac_runtime_y").val((reply[0].tdelta/60).toFixed(1) );
				}
			
			date = new Date();
			date.setDate(date.getDate() - 1);
			datestring = date.getFullYear().toString() + "-" + (date.getMonth()+1).toString() + "-" + date.getDate().toString();
			oReq.open("GET", "control_data_pull.php?date="+datestring+"&equipment=ac", true);
			oReq.send();

	
		}
	
	
	display_fan_runtime();
	display_heater_runtime();
	display_ac_runtime();
	display_fan_runtime_y();
	display_heater_runtime_y();
	display_ac_runtime_y();

	
	
	
</script> 
</html>
